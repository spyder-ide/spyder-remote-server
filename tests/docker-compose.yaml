version: "3"

services:
  jupyterhub:
    build: .
    volumes:
      - "../jupyterhub_config.py:/opt/jupyterhub_config.py"
      - "../spyder-service:/home/ubuntu/spyder-service"
    networks:
      mynet:
        ipv4_address: 172.16.128.2
    ports:
      - "2222:22"
    privileged: true # Required for /usr/sbin/init
networks:
  mynet:
    ipam:
      config:
        - subnet: 172.16.128.0/24